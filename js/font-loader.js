(()=>{function a(o){var n="mmmmmmmmmmlli",t="72px",e=document.createElement("canvas").getContext("2d"),d=(e.font=t+" Arial",e.measureText(n).width),t=(e.font=t+" "+o,e.measureText(n).width);return t!==d}function o(n,t,e=50){let d=0;!function o(){d++,a(n)?(document.documentElement.classList.add("fonts-loaded"),t&&t()):d<e?setTimeout(o,100):(console.warn("Font loading timeout:",n),t&&t())}()}function n(){["Noto Sans SC","Fira Code"].forEach(n=>{document.fonts&&document.fonts.load&&document.fonts.load("16px "+n).then(()=>{console.log("Font loaded:",n)}).catch(o=>{console.warn("Font load error:",n,o)})})}function t(){document.documentElement.classList.add("font-loading"),n(),o("Noto Sans SC",function(){console.log("Noto Sans SC font loaded successfully"),document.documentElement.classList.remove("font-loading")}),"undefined"!=typeof WebFont&&WebFont.load({google:{families:["Noto Sans SC:100,300,400,500,700,900"]},active:function(){console.log("WebFont: Noto Sans SC loaded"),document.documentElement.classList.add("fonts-loaded"),document.documentElement.classList.remove("font-loading")},inactive:function(){console.warn("WebFont: Noto Sans SC failed to load"),document.documentElement.classList.remove("font-loading")}})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",t):t(),window.FontLoader={isFontLoaded:a,waitForFont:o,preloadFonts:n}})();